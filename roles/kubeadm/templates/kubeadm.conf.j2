apiVersion: kubeadm.k8s.io/v1alpha2
kind: MasterConfiguration
api:
  advertiseAddress: {{ api_advertise_address }}
apiServerCertSANs:
 - {{ ansible_fqdn }}
bootstrapTokens:
- groups:
  - system:bootstrappers:kubeadm:default-node-token
  token: {{ kubeadm_bootstrap_token }}
  ttl: 24h0m0s
  usages:
  - signing
  - authentication
certificatesDir: /etc/kubernetes/pki
controllerManagerExtraArgs:
  allocate-node-cidrs: "true"
  cloud-provider: external
  pod-eviction-timeout: "1m0s"
networking:
  podSubnet: "10.244.0.0/16"
