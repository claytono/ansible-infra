ec2_region: us-east-1
falcon_eip: 50.16.92.207

prometheus_node_exporter_version: 1.0.1
prometheus_node_exporter_config_flags:
  'collector.textfile.directory': '/var/lib/node_exporter/textfile_collector'
  'web.listen-address': '0.0.0.0:9100'
  'log.level': 'info'

enable_ufw: false

ssh_keys:
  - &jezebel_rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA5XY/Pltocwc8sAZwewrhgInrrDDuw89wJ0I1bx6wR16x650iifiSnIZlD+elk2zyu+AqMwJ74URZgshz02W6HMnFmx6CXfvXC6DmEpSnyY4/WThmP2WyNE/A9nJaLBbBb/LnfJoA+Knb8XzJHWFtpFcNmP9Ltlm1Q9VoFFeCrIG04xmXR4WO2AtTa/Bj0WAPa2whfSiCluFrFLMqqXsXw51Myj6RUahNbQdjwOwFQAwzMEegrEINOKYSlojTyV7mdJ6e3oepf5+3GhttMUVjqFHSxG/HK9WB4xxUaQXdMadNhivJKfHKVFxheW+FWae4WBPV31VHqRQuWrUEEamhUQ== coneill@jezebel"
  - &xtal_ed25519 "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIB3URIT9ojo8mqsEjxmFu1C+Bxa3jdcKkUzM++IfDVmu coneill@xtal.oneill.net"

genericusers_users:
 - name: coneill
   comment: "Clayton O'Neill"
   shell: "/bin/bash"
   uid: 10001
   groups: [ 'sudo', 'audio', 'video', 'dialout' ]
   pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31623865666436383432373566303765326238656334323163363735393337303064316137313761
          3062646135373935653838663266366631353461643765310a386137626232623131306530333432
          38303866646534353965323037646164353930396531336530316530383566363766393665653235
          3239343735373932350a316632613261323131303734306366383530616562313234313863316631
          31393038366564306164373239616665653330313331396235353462643765376530613863363737
          38303437383831663136633663633337396435366232396535313561363136303665623230386537
          64626363376466336436623262643336336231363432666332623833613232396534626262626561
          34353466356264376663613537653461366265633762653864646239653965346662333534653639
          33366336653833643764626239643039393930313164383930616537396165626535663737346265
          6533666132636666373833653166356133306338343131386431
   ssh_keys:
    - *jezebel_rsa
    - &jezebel_ed25519 "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJCMCD7OnhZIJvdUhHhYGIoH7fN5fWLXHPijB60vp21t coneill@jezebel"
    - *xtal_ed25519
 - name: ansible
   comment: "Ansible role user"
   uid: 9000
   groups: [ 'sudo' ]
   ssh_keys:
    - *jezebel_rsa
    - *jezebel_ed25519
    - *xtal_ed25519

docker_install_compose: false

# relaymail
relaymail_smtp_host: smtp.gmail.com
relaymail_smtp_port: 587
relaymail_smtp_user: clayton.oneill@gmail.com
relaymail_smtp_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36356161616463613432643930323363663533336432623133636263636635333634333236353534
          3837326363313663323664373935326366386261653737330a383734313664366236323966366165
          33353738363136643266313162646664333435343239386363323766353737623363616637613339
          6463353564616264650a353837323562646462626537386339393738633336383131316230306361
          36656338616634323135666332363837663061343362343862373939613537323634
relaymail_overwrite_to_target: clayton.oneill@gmail.com

restic_sftp_client: true
restic_sftp_servers:
  - id: luser
    fqdn: luser.fnord.net
    user: restic
    home: /backups/restic/
    pool: repos

restic_config_blocks:
 - restic_default_config
 - restic_prometheus_config
 - restic_pizero_config
 - restic_host_config
restic_default_config:
  default:
    repository: sftp:restic@luser.fnord.net:/repos/main
    password-file: passphrase.txt

    backup:
      no-error-on-warning: true
      one-file-system: true

      schedule: "*-*-* {{ 23 | random(seed=inventory_hostname) }}:{{ 60 | random(seed=inventory_hostname) }}:00"
      schedule-permission: "system"
      schedule-lock-wait: "23h"
      schedule-priority: background

      source:
      - /

      run-before: &run_before |-
          {% raw %}curl -sf https://healthchecks.io/api/v1/checks/  \
              -d '{ "api_key": "{{ $healthcheck_management_key }}", "name": "restic-{{ .Hostname }}-{{ .Profile.Name }}", "timeout": 259200, "channels": "*", "unique": ["name"] }' \
            && curl -sf "https://hc-ping.com/{{ $healthcheck_ping_key }}/restic-{{ .Hostname }}-{{ .Profile.Name }}/start" -d "Profile: $PROFILE_NAME \
            Command: $PROFILE_COMMAND \
            "
          {% endraw %}
      run-finally: &run_finally |-
          {% raw %}rc="${ERROR_EXIT_CODE:-0}" \
            && curl -sf "https://hc-ping.com/{{ $healthcheck_ping_key }}/restic-{{ .Hostname }}-{{ .Profile.Name }}/${rc}" -d "Profile: $PROFILE_NAME \
            Command: $PROFILE_COMMAND \
            Message: $ERROR_MESSAGE \
            Command-line: $ERROR_COMANDLINE \
            Stderr: $ERROR_STDERR \
            "
          {% endraw %}
restic_prometheus_config:
  default:
    prometheus-push: "https://pushgateway.k.oneill.net/"
    prometheus-labels:
      - host: '{% raw %}{{ .Hostname }}{% endraw %}'

restic_secrets:
  healthcheck_ping_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64326639343662363630313631313935356438663937613833343666636231616261663839313065
          3937616364306537663530363630646663656539616337340a303338643534656133623931613735
          33373330353639653362386236653238316266666536616638363865623430333961643364386165
          6631613562346266650a626263313665663334656630376266613531303135326563623462343231
          32323635383330336132626335356332373039646562373830316663393064663537
  healthcheck_management_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65346330653235656265616638376137323937353462393131386333626636633036623735366233
          3561373939633461343132636632346136616437663866380a356634353230656230356563633064
          63393633393162376430326537363565366561383061626631663965343637313034666165346239
          3433346335656662660a633137343563613165663334343836316164306239323339373765346562
          35643236396431666630626532646334653331633935313432363165656231343435646636666665
          6162373932353165646535646632623236653335326636653631

restic_passphrase: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31386466306334343030376139306166306531353631313537643062613331656665656539303461
          6662643635373737613765363035636461633138366666320a633037653664653530306263663265
          34646366656437323531316133393638326130303138313132623461306563613361656138623237
          6537336363386639310a346139396534316435623162663839656435383363336637353636666462
          39363438663138343135373933663834346465633837333262633433313739353434636564623132
          6637356466643137366133313862373464303037663366323461

tailscale_authkey: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64613230626434373938643062386664636564653038363661663531326565663137323939383037
          3231613735633234346539363930636262373461666665660a646465353264386463356539383339
          37646138636563616662373838633035663063373761313265396237626164366162613736353164
          6535383232366637380a353861396666313032316661306231353935396133646261383933383432
          66663562646463313735393830373435363834376539613238623938666563663233363864646563
          32393464666434313938383239653039353237346632303163323839623936636535613166383330
          313236636661393930316138323237653863

ler53_cert_remaining_days_before_renewal: 32
ler53_account_email: clayton@oneill.net
ler53_aws_access_key: AKIAJKAXEQX5E3OWSFHQ
ler53_aws_secret_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33633163656664656635646165613166303161333231613234343866363638373232656564623037
          3864643962383564373737313362303265346436366339610a643230333837626239306463326337
          64656563656164306438663532653133333631303764366435663431646538306161333566643265
          6662653931623334330a363635326363393534616264636338306635326332376266356533306362
          62626664393561396566313162383233643934353062656463303861343935666463383663386134
          3834346332376638396461636662373735316634323333393930
